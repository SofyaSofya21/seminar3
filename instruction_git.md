# **Инструкция по работе с git**

![Логотип](images/git.png)

# Что такое Git

git - это система контроля версий, которая позволяет отслеживать историю изменений в файлах.  

## Создание локального репозитория

Для того, чтобы создать (инициализировать) локальный репозиторий, необходимо в терминале, находясь в папке проекта, набрать команду:

    git init


## Проверка состояния репозитория

Чтобы проверить состояние репозитория, используют команду:

    git status

## Добавление изменений из рабочего каталога в индекс

Чтобы текущие изменения перенести в раздел проиндексированных файлов для последующего коммита, после сохранения файла требуется набрать команду:

    git add <file>

## Создание коммита

Для того, чтобы все данные, добавленные в индекс, сохранились в базе данных, используется команда:

    git commit

## Создание коммита с комментрием

Для добавления комментария одновременно с созданием коммита, наберите команду:

    git commit -m "your message"

## Одновременное добавление изменений в индекс и создание коммита

Чтобы одновременно применить команды git add и git commit, наберите команду:

    git commit -a

## Одновременное добавление изменений в индекс и создание коммита с комментарием

Чтобы одновременно применить команды git add и git commit, наберите команду:

    git commit -am

## Вывод всех коммитов в репозитории

Чтобы получить информацию обо всех коммитах, сделанных в репозитории, используйте команду:

    git log

## Переход к желаемой версии файла (к желаемому коммиту)

Чтобы из текущей версии файла попасть в другую, требуется набрать команду:

    git checkout <commit number>

## Вывод изменений между индексом и коммитом

Чтобы посмотреть все изменения, которые были созданы и проиндексированы, но не закоммитчены, наберите команду:

    git diff

Чтобы отразить изменения между двумя любыми коммитами, используйте команду:

    git diff <first_commit_number> <second_commit_number>

## Ветвления

Ветвления нужны для того, чтобы редактировать файл в режиме черновика (новых ветках) без изменений в главной ветке. При необходимости информация из черновиков (других веток) может быть добавлена в основную ветку.

### Создание новой ветки

Создайте новую ветку с помощью следующей команды:

        git branch <branch_name>

### Объединение веток

 Для того, чтобы информацию из одной ветки добавить в другую, перейдите в ту ветку, куда вы хотите добавить информацию и в команде, указанной ниже, используйте имя той ветки, откуда вы хотите подтянуть информацию:

        git merge <branch_name>

### Разрешение конфликтов при объединении веток

Объединение пройдет гладко, если в ветке, которую мы присоединили есть какая-то дополнительная информация по отношению в основной ветке, а все остальные строки документа одинаковые.
Если на одних и тех же строках в обеих ветках есть различающаяся информация, при объединении возникнет конфликт. Visual Studio Code предлагает несколько путей решения:

1. Принять информацию из основной ветки (к которой мы присоединяем другую ветку). В этом случае информация из присоединяемой ветки будет утеряна.
2. Принять информацию из присоединяемой ветки. В этом случае информация из основной ветки (к которой мы присоединяем другую ветку) будет утеряна.
3. Принять изменения из обеих веток. Информация объединится последовательно: сначала из основной ветки, затем из присоединяемой.
4. Принять изменения с корректировкой. В этом случае можно внести необходимые корректировки и только затем принять какую-то версию.

После объединения веток может потребоваться коммит.
### Удаление веток

 Когда вся информация из веток перенесена в главную ветку и необходимость в данной ветке отпадает, удалите ветку, используя следующую команду:

        git branch -d <branch_name>

## Удаленные репозитории

Удаленные репозитории нужны для возможности внесения изменений в проект с разных устройств разными пользователями.

### Связывание локального репозитория с удаленным

Для того, чтобы в первый раз связать локальный репозиторий с удаленным, требуются следующие действия:

1. Создаем аккаунт на GitHub, если его нет
2. Нажимаем кнопку Create New Repository
3. Указываем имя нового репозитория
4. Выбираем, что требуется: создать новый репозиторий,присоединить текущий репозиторий к удаленному (выбираем данный вариант), импортировать код из другого репозитория
5. Копируем три строки кода, указанные в подсказке на GitHub
6. Вставляем данные строки в git. Важно проверить, чтобы в скопированных строках главная ветка именовалась так же, как и в вашем git'е (master или main)
7. В случае, если это первичная связка, необходимо "подружить VSCode с GitHub, чтобы GitHub понял, что вы имеете право вносить изменения в файлах своего аккаунта. В дальнейшем такая операция не будет требоваться.

### Копирования удаленного репозитория

Чтобы скопировать удаленный репозиторий, скопируйте его адрес в GitHub'e, а затем воспользуйтесь командой:

        git clone <remoted_repo_address>

Скопировать можно адрес любого публичного репозитория.

### Загрузка новых изменений на удаленный репозиторий

Для того, чтобы загрузить сделанные локально изменения в удаленный репозиторий, нужно использовать команду

        git push

 Вводить повторно адрес удаленного репозитория не нужно, т.к. они уже связаны.
 ! Важно! Если удаленный репозиторий уже был изменен, потребуется сначала загрузить актуальную версию, в нее добавить изменения и только тогда получиться загрузить локальные изменения в удаленный репозиторий.

### Выгрузка актуального состояния удаленного ерпозитория

Для того, чтобы выгрузить последнюю версию удаленного репозитория, используйте команду:

        git pull

### Предложение изменений в чужие проекты

Для того, чтобы иметь возможность внести изменения к чужому проекту и предложить эти изменения к рассмотрению владельцу проекта, требуется выполнить следующие действия:

1. Создать собственную удаленную копию, нажав кнопку fork на странице удаленного репозитория
2. Скопировать адрес созданной копии в своем аккаунте с помощью git clone
3. Создать новую ветку, в которой будут находиться все изменения.
4. Протолкнуть все изменения командой git push. git даст подсказку, какую команду использовать, чтобы отправить новую ветку, данную команду надо использовать:

        git push --set-upstream origin <branch_name>
        
5. В GitHub на странице удаленной копии в своем аккаунте нажать кнопку Compare & Pull request.
6. После проверки того, что наши изменения не вступят в конфликт с актуальной версией удаленного репозитория, можно нажать кнопку Pull request. При желании можно оставить описание изменений.
7. Владелей удаленного репозитория самостоятельно принимает решение о том, прнять или отклонить предложенные изменения.

